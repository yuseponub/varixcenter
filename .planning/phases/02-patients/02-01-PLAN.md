---
phase: 02-patients
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - package-lock.json
  - src/components/ui/form.tsx
  - src/components/ui/input.tsx
  - src/components/ui/button.tsx
  - src/components/ui/card.tsx
  - src/components/ui/dialog.tsx
  - src/components/ui/label.tsx
  - src/components/ui/select.tsx
  - src/components/ui/table.tsx
  - src/lib/utils.ts
  - components.json
autonomous: true

must_haves:
  truths:
    - "zod, react-hook-form, @hookform/resolvers packages are installed"
    - "TanStack React Table package is installed"
    - "shadcn/ui Form, Input, Button, Card, Dialog, Label, Select, Table components exist"
  artifacts:
    - path: "package.json"
      provides: "Project dependencies"
      contains: "zod"
    - path: "src/components/ui/form.tsx"
      provides: "Form component with RHF integration"
    - path: "src/lib/utils.ts"
      provides: "cn() utility for Tailwind class merging"
  key_links:
    - from: "src/components/ui/form.tsx"
      to: "react-hook-form"
      via: "useFormContext import"
      pattern: "useFormContext"
---

<objective>
Install form validation libraries and shadcn/ui components for patient management

Purpose: Establishes the frontend foundation for all patient forms, tables, and UI. These packages and components will be reused across the entire application.
Output: npm packages installed, shadcn/ui components ready to use
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/02-patients/02-RESEARCH.md

# Phase 1 established Supabase patterns
@src/lib/supabase/server.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install npm dependencies</name>
  <files>package.json, package-lock.json</files>
  <action>
Install the required packages for form validation and data tables:

```bash
npm install zod react-hook-form @hookform/resolvers @tanstack/react-table
```

These packages provide:
- zod: Schema validation (shared between client and server)
- react-hook-form: Form state management with minimal re-renders
- @hookform/resolvers: Zod integration with react-hook-form
- @tanstack/react-table: Headless table with sorting, filtering, pagination

Do NOT install libphonenumber-js (overkill for Colombian 10-digit phones).
  </action>
  <verify>
Run `npm list zod react-hook-form @hookform/resolvers @tanstack/react-table` - all 4 packages should be listed without errors.
  </verify>
  <done>
All 4 packages installed and listed in package.json dependencies
  </done>
</task>

<task type="auto">
  <name>Task 2: Install shadcn/ui components</name>
  <files>
    src/components/ui/form.tsx
    src/components/ui/input.tsx
    src/components/ui/button.tsx
    src/components/ui/card.tsx
    src/components/ui/dialog.tsx
    src/components/ui/label.tsx
    src/components/ui/select.tsx
    src/components/ui/table.tsx
    src/lib/utils.ts
    components.json
  </files>
  <action>
Initialize shadcn/ui and add required components:

1. First, initialize shadcn/ui if not already initialized:
```bash
npx shadcn@latest init -d
```
When prompted, select:
- Style: Default
- Base color: Slate
- CSS variables: Yes

2. Add all required components in a single command:
```bash
npx shadcn@latest add form input button card dialog label select table
```

This installs:
- form: React Hook Form integration with error handling
- input: Text input with variants
- button: Button with variants (default, destructive, outline, etc.)
- card: Card container with header, content, footer
- dialog: Modal dialog component
- label: Form label component
- select: Dropdown select component
- table: Data table components (Table, TableHeader, TableBody, TableRow, TableHead, TableCell)

The form component will automatically install clsx and tailwind-merge dependencies if needed.
  </action>
  <verify>
Run `ls src/components/ui/` - should show form.tsx, input.tsx, button.tsx, card.tsx, dialog.tsx, label.tsx, select.tsx, table.tsx.
Run `cat src/lib/utils.ts | head -5` - should show the cn() utility function.
  </verify>
  <done>
All 8 shadcn/ui components installed in src/components/ui/, utils.ts contains cn() function
  </done>
</task>

</tasks>

<verification>
After both tasks complete:
1. `npm run build` should succeed (no TypeScript errors from new dependencies)
2. All shadcn/ui components should be importable
</verification>

<success_criteria>
- package.json contains zod, react-hook-form, @hookform/resolvers, @tanstack/react-table
- src/components/ui/ contains form, input, button, card, dialog, label, select, table components
- src/lib/utils.ts contains cn() utility
- `npm run build` passes
</success_criteria>

<output>
After completion, create `.planning/phases/02-patients/02-01-SUMMARY.md`
</output>
