---
phase: 15-dashboard-inventory
plan: 04
type: execute
wave: 3
depends_on: ["15-02", "15-03"]
files_modified:
  - src/components/medias/dashboard/metric-card.tsx
  - src/components/medias/dashboard/nav-card.tsx
  - src/components/medias/dashboard/stock-alerts-card.tsx
  - src/components/medias/dashboard/dashboard-grid.tsx
autonomous: true

must_haves:
  truths:
    - "MetricCard displays title, value, and icon"
    - "NavCard shows icon and title only (no counters)"
    - "StockAlertsCard shows summary count and product list"
  artifacts:
    - path: "src/components/medias/dashboard/metric-card.tsx"
      provides: "Reusable metric display card"
      exports: ["MetricCard"]
    - path: "src/components/medias/dashboard/nav-card.tsx"
      provides: "Navigation card with icon and title"
      exports: ["NavigationCards"]
    - path: "src/components/medias/dashboard/stock-alerts-card.tsx"
      provides: "Low stock alert card"
      exports: ["StockAlertsCard"]
    - path: "src/components/medias/dashboard/dashboard-grid.tsx"
      provides: "Dashboard layout grid"
      exports: ["DashboardGrid"]
  key_links:
    - from: "NavigationCards"
      to: "/medias/*"
      via: "Link components"
      pattern: "href=.*/medias/"
---

<objective>
Create dashboard UI components: metric cards, navigation cards, and stock alerts display.

Purpose: Build reusable components for the medias dashboard page.
Output: Four component files for dashboard layout.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/15-dashboard-inventory/15-CONTEXT.md
@.planning/phases/15-dashboard-inventory/15-RESEARCH.md
@src/components/medias/cierres/cierre-summary-card.tsx
@src/components/ui/card.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create metric and nav card components</name>
  <files>
    src/components/medias/dashboard/metric-card.tsx
    src/components/medias/dashboard/nav-card.tsx
  </files>
  <action>
Create src/components/medias/dashboard/metric-card.tsx:
- Props: title: string, value: string | number, icon: React.ReactNode, variant?: 'default' | 'primary'
- Uses shadcn Card with CardHeader (title + icon) and CardContent (value)
- Value displayed as text-2xl font-bold
- Primary variant uses bg-primary/10 for subtle highlight
- Include formatCurrency helper function (copy from cierre-summary-card.tsx pattern)

Create src/components/medias/dashboard/nav-card.tsx:
- NavigationCards component (no props - static navigation)
- Define navItems array with: title, href, icon (from lucide-react)
  - Productos -> /medias/productos -> Package
  - Ventas -> /medias/ventas -> ShoppingCart
  - Compras -> /medias/compras -> Truck
  - Devoluciones -> /medias/devoluciones -> RotateCcw
  - Cierres -> /medias/cierres -> Lock
- Render grid of Link > Card with centered icon and title
- Per CONTEXT.md: Only icon + title, NO counters
- Use hover:bg-accent transition for interactivity
  </action>
  <verify>Run `cat src/components/medias/dashboard/metric-card.tsx src/components/medias/dashboard/nav-card.tsx` to confirm component structure</verify>
  <done>MetricCard and NavigationCards components render properly styled cards</done>
</task>

<task type="auto">
  <name>Task 2: Create stock alerts and grid components</name>
  <files>
    src/components/medias/dashboard/stock-alerts-card.tsx
    src/components/medias/dashboard/dashboard-grid.tsx
  </files>
  <action>
Create src/components/medias/dashboard/stock-alerts-card.tsx:
- Props: summary: StockAlertsSummary (from dashboard types)
- Uses shadcn Card
- Header: "Stock Critico" with AlertTriangle icon
- Shows critical_count with styling (e.g., "5 productos")
- If count > 0: List products with codigo, tipo, talla, stock_normal
- If count = 0: "Sin alertas de stock" message
- Products list shows each item with stock_normal in red badge
- Link to /medias/productos at bottom for full view

Create src/components/medias/dashboard/dashboard-grid.tsx:
- Props: metrics: DashboardMetrics
- Layout wrapper component
- Grid of MetricCards:
  - Efectivo en Caja (primary variant, Banknote icon) - MOST VISIBLE per CONTEXT.md
  - Ventas Hoy (ShoppingCart icon, shows count and total)
  - Ventas del Mes (TrendingUp icon, shows count and total)
  - Devoluciones Pendientes (RotateCcw icon, shows count)
- Use responsive grid: 1 col mobile, 2 col md, 4 col lg
- Efectivo uses large text variant for emphasis
  </action>
  <verify>Run `cat src/components/medias/dashboard/stock-alerts-card.tsx src/components/medias/dashboard/dashboard-grid.tsx` to confirm layouts</verify>
  <done>StockAlertsCard shows critical products and DashboardGrid displays all metrics</done>
</task>

</tasks>

<verification>
- [ ] src/components/medias/dashboard/ directory has 4 component files
- [ ] MetricCard accepts title, value, icon, variant props
- [ ] NavigationCards has 5 nav items with icons (no counters)
- [ ] StockAlertsCard shows count and product list
- [ ] DashboardGrid renders 4 metric cards with efectivo emphasized
- [ ] All use shadcn Card component
</verification>

<success_criteria>
Dashboard components ready for assembly in the dashboard page.
</success_criteria>

<output>
After completion, create `.planning/phases/15-dashboard-inventory/15-04-SUMMARY.md`
</output>
